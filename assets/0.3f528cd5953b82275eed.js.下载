(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{713:function(t,e,s){"use strict";s.r(e);s(71),s(43),s(93);var a={name:"TagView",props:{tagId:{type:[String,Number],default:""},tagName:{type:String,default:""}},methods:{handleClick:function(){""!==this.tagId&&this.$router.push("".concat(this.$settings.routePre,"/tag/").concat(this.tagId)),this.$route.name==="".concat(this.$settings.routePre.substr(1),"-post-id")?window.AnalysysAgent.track("post_detail_tag_click",{tag_id:"".concat(this.tagId),post_id:"".concat(this.$route.params.id)}):window.AnalysysAgent.track("post_tag_click",{tag_id:"".concat(this.tagId)})}}},i=(s(844),s(20)),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"components-tag-view",class:{"cursor-pointer":t.tagId&&""!==t.tagId},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClick(e)}}},[s("svg-icon",{attrs:{"icon-class":"tagsymbol"}}),t._v(" "),s("span",{staticClass:"text-gray-250"},[t._v(t._s(t.tagName))])],1)}),[],!1,null,"2c1663f0",null);e.default=o.exports;installComponents(o,{SvgIcon:s(74).default})},733:function(t,e,s){"use strict";s.r(e);s(49),s(73),s(39),s(72);var a={name:"UserTitle",props:{user:{type:Object,default:function(){return{}}}},data:function(){return{people_link:"".concat(this.$settings.routePre,"/people/"),defaultBorder:"".concat("https://pic.iyingdi.com","/yingdi_mobile/user/border/normal.png")}},computed:{formatUser:function(){var t={};this.user.in_use_medals?t=this.user.in_use_medals:!this.$utils.checkIsJSON(this.user.badge_json)||(t=JSON.parse(this.user.badge_json));var e=this.$utils.getUserLevel(this.user.credits_score||this.user.credits),s=t.badges||[],a=this.user.avatar||this.user.head||this.$settings.default_head,i=t.border||this.defaultBorder;return{id:this.user.id,name:this.user.nickname||this.user.username,avatar:/https/.test(a)?a:a.replace("http","https"),level:e,levelImg:this.$utils.getLevelImg(e),nameColor:t.name_color||t.color,border:/https/.test(i)?i:i.replace("http","https"),badges:s.slice(0,3).map((function(t){return/https/.test(t)?t:t.replace("http","https")}))}}}},i=(s(846),s(20)),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative -left-15"},[s("div",{staticClass:"user-title-area"},[s("a",{staticClass:"avatar-box block",attrs:{href:t.people_link+t.formatUser.id,target:"_blank"}},[s("img",{staticClass:"avatar",attrs:{src:t.formatUser.avatar,alt:""}}),t._v(" "),s("img",{staticClass:"decoration",attrs:{src:t.formatUser.border,alt:""}})]),t._v(" "),s("div",{staticClass:"info-box"},[s("a",{staticClass:"name block",attrs:{href:t.people_link+t.formatUser.id,target:"_blank"}},[s("span",{style:{color:t.formatUser.nameColor}},[t._v(t._s(t.formatUser.name))])]),t._v(" "),s("ul",{staticClass:"honor"},[s("li",{staticClass:"level",style:{backgroundImage:"url("+t.formatUser.levelImg+")"}},[t._v("Lv. "+t._s(t.formatUser.level))]),t._v(" "),t._l(t.formatUser.badges,(function(t,e){return s("li",{key:e,staticClass:"badge"},[s("img",{attrs:{src:t,alt:""}})])}))],2)])])])}),[],!1,null,"fe3e945a",null);e.default=o.exports},756:function(t,e,s){},758:function(t,e,s){},759:function(t,e,s){},834:function(t,e,s){"use strict";s.r(e);s(393),s(39),s(72);var a={name:"PkCommonTemplet",props:{post:{type:Object,default:function(){return{}}},user:{type:Object,default:function(){return{}}},vote:{type:String,required:!0,default:function(){return""}},voteBtnVisible:{type:Boolean,default:!0}},data:function(){return{voteFaction:0}},computed:{formatVote:{get:function(){if(!this.$utils.checkIsJSON(this.vote))return[];var t=JSON.parse(this.vote),e=t[0].num+t[1].num;return[{faction:1,content:t[0].content,num:t[0].num,scale:(e?(t[0].num/e*100).toFixed(0):0)+"%"},{faction:2,content:t[1].content,num:t[1].num,scale:(e?(t[1].num/e*100).toFixed(0):0)+"%"}]},set:function(t){var e=t[0].num+t[1].num;t[0].scale=(e?(t[0].num/e*100).toFixed(0):0)+"%",t[1].scale=(e?(t[1].num/e*100).toFixed(0):0)+"%"}}},mounted:function(){this.voteFaction=this.user.vote_faction||0},methods:{toVote:function(t){var e=this;if(!this.$store.getters.token)return this.$router.replace("".concat(this.$settings.routePre,"/login")),!1;if(1===this.user.action||2===this.user.action)return this.$message({type:"warning",message:"您已经投过票了",offset:300}),!1;var s={post_id:this.post.id,faction:t.faction};this.$apiRepository.post.postVote(s).then((function(a){e.voteFaction=s.faction;var i=e.formatVote;i[s.faction-1].num=t.num+1,e.formatVote=i,e.$message({type:"success",message:"投票成功",offset:300})})).catch((function(t){e.$message.error("投票失败")}))}}},i=(s(847),s(20)),o=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"vote-result"},[t._l(t.formatVote,(function(e,a){return s("div",{key:a,staticClass:"vote-item"},[s("p",{staticClass:"vote-text"},[t._v(t._s(e.content))]),t._v(" "),0===a?s("div",{staticClass:"vote-line",style:{width:""+e.scale,float:"right"}},[s("span",{staticStyle:{position:"absolute",left:"-40px",bottom:"-8px"}},[t._v(t._s(e.scale))]),t._v(" "),s("div",{staticClass:"progress"})]):t._e(),t._v(" "),1===a?s("div",{staticClass:"vote-line",style:{width:""+e.scale,float:"left"}},[s("span",{staticStyle:{position:"absolute",right:"-40px",bottom:"-10px"}},[t._v(t._s(e.scale))]),t._v(" "),s("div",{staticClass:"progress"})]):t._e()])})),t._v(" "),s("i",{staticClass:"vs-text"},[t._v("VS")])],2),t._v(" "),t.voteBtnVisible?s("div",[0!==t.voteFaction?s("div",{staticClass:"mt-20 flex flex-row justify-around"},[1===t.voteFaction?s("div",{staticClass:"py-1 px-20 text-white text-sm rounded-1.5xl",staticStyle:{background:"#CB1F1F"}},[t._v("已投票")]):s("div",{staticClass:"py-1 px-20 text-white text-sm rounded-1.5xl bg-gray-200"},[t._v("投票")]),t._v(" "),2===t.voteFaction?s("div",{staticClass:"py-1 px-20 text-white text-sm rounded-1.5xl",staticStyle:{background:"#1070D2"}},[t._v("已投票")]):s("div",{staticClass:"py-1 px-20 text-white text-sm rounded-1.5xl bg-gray-200"},[t._v("投票")])]):s("div",{staticClass:"mt-20 flex flex-row justify-around"},[s("div",{staticClass:"py-1 px-20 text-white text-sm rounded-1.5xl cursor-pointer",staticStyle:{background:"#CB1F1F"},on:{click:function(e){return t.toVote(t.formatVote[0])}}},[t._v("投票")]),t._v(" "),s("div",{staticClass:"py-1 px-20 text-white text-sm rounded-1.5xl cursor-pointer",staticStyle:{background:"#1070D2"},on:{click:function(e){return t.toVote(t.formatVote[1])}}},[t._v("投票")])])]):t._e()])}),[],!1,null,"a737d1ae",null);e.default=o.exports},844:function(t,e,s){"use strict";s(756)},846:function(t,e,s){"use strict";s(758)},847:function(t,e,s){"use strict";s(759)}}]);