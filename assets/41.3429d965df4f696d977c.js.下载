(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{710:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var s=i(159);var o=i(247);function n(t){return function(t){if(Array.isArray(t))return Object(s.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},715:function(t,e,i){"use strict";i.r(e);var s={name:"GoogleAd",components:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},o=i(20),n=Object(o.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"googleAd",staticStyle:{height:"500px",margin:"20px 0"}},[e("adsbygoogle",{attrs:{"ad-slot":"2967039306","ad-format":"auto"}})],1)}),[],!1,null,"2d8f9117",null);e.default=n.exports},716:function(t,e,i){"use strict";i.r(e);i(71),i(158),i(73),i(43),i(93),i(14),i(40),i(50);var s=i(723);function o(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var s=0,o=function(){};return{s:o,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,c=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return r=t.done,t},e:function(t){c=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw a}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var a={name:"FileUploadBtn",props:{ifMulti:{type:Boolean,default:!1},ifDisabled:{type:Boolean,default:!1},msg:{type:String,default:"上传"},btnSize:{type:String,default:"small"},accept:{type:String,default:"image/*"},maxSize:{type:Number,default:524288e3}},data:function(){return{loading:!1,gosFileConfig:{host:"https://gos.gaeamobile.net",cdn_host:"https://pic.iyingdi.com",key:"f17b8ac4d26aca60",bucket_name:"f5e7699a3d90a5b5427165ced2956fb7",bucket_path:"/yingdi_pc/img"},resultArr:[],failArr:[]}},computed:{},watch:{},created:function(){},mounted:function(){var t=this,e=this;this.fileGosUpload=new s.a({host:this.gosFileConfig.host,key:this.gosFileConfig.key,bucketName:this.gosFileConfig.bucket_name,bucketPath:this.gosFileConfig.bucket_path,fileUploaded:e.fileUploadSuccess,error:function(i){t.$message.error("上传失败，请稍候再试"),e.vLoading=!1}})},methods:{toUpload:function(){this.$store.getters.token?this.fileUpload():this.$router.push("".concat(this.$settings.routePre,"/login"))},fileUpload:function(){this.fileGosUpload.count=0;var t=document.createElement("input");t.setAttribute("type","file"),this.ifMulti&&t.setAttribute("multiple","multiple"),t.setAttribute("accept",this.accept),t.click(),t.onchange=this.fileInputOnchange},fileInputOnchange:function(){this.loading=!0;var t=this.fileRuleCheck(event.target.files);this.fileGosUpload.fileArr=t,this.fileGosUpload.start()},fileRuleCheck:function(t){var e,i=[],s=[],n=o(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.size>this.maxSize?s.push(a):i.push(this.$utils.fileRename(a,a.type))}}catch(t){n.e(t)}finally{n.f()}return s.length>0&&(this.$message.warning("您上传的文件,有".concat(s.length,"个超过").concat(this.maxSize,"M限制")),s.length===t.length&&(this.loading=!1)),this.resultArr=i,this.failArr=s,i},fileUploadSuccess:function(t,e){this.fileGosUpload.count+=1,this.fileGosUpload.fileArr.length===this.fileGosUpload.count&&(this.loading=!1,this.fileGosUpload.count=0,this.fileGosUpload.fileArr=[]);var i="".concat(this.gosFileConfig.cdn_host,"/").concat(e.Key);this.$emit("uploadSuccess",i)}}},r=i(20),c=Object(r.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-button",{staticClass:"pic_button",attrs:{icon:"el-icon-upload2",size:t.btnSize,disabled:t.ifDisabled},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toUpload(e)}}},[t._v("\n  "+t._s(t.loading?"上传中...":t.msg)+"\n")])}),[],!1,null,"06f5cd49",null);e.default=c.exports},717:function(t,e,i){"use strict";i.r(e);var s=i(31),o=i(36);function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(s.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r={name:"EmojiModal",components:{},props:{visible:{type:Boolean,default:!1}},data:function(){return{activeTabName:"0"}},computed:a({},Object(o.d)("common",{expressionList:"emojiList"})),watch:{},created:function(){},mounted:function(){this.getEmojiList()},methods:a(a({},Object(o.c)("common",["getEmojiList"])),{},{close:function(){this.$emit("update:visible",!1)},chooseEmoji:function(t){this.$emit("add",t),this.close(),window.AnalysysAgent.track("post_emoji_add_click",{emoji_name:t})}})},c=i(20),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.visible,title:"添加表情","close-on-click-modal":!1,"before-close":t.close,"lock-scroll":!1,"append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[i("el-tabs",{staticClass:"relative -top-20",model:{value:t.activeTabName,callback:function(e){t.activeTabName=e},expression:"activeTabName"}},t._l(t.expressionList,(function(e,s){return i("el-tab-pane",{key:s,attrs:{label:e.title,name:""+s}},[i("ul",{staticClass:"grid grid-cols-6 gap-2"},t._l(e.emoji,(function(e,s){return i("li",{key:s,staticClass:"cursor-pointer",on:{click:function(i){return t.chooseEmoji(e.img)}}},[i("img",{attrs:{src:e.img,alt:""}})])})),0)])})),1)],1)}),[],!1,null,"78631b7a",null);e.default=l.exports},718:function(t,e,i){"use strict";i.r(e);i(95),i(391),i(93);var s=i(710),o=i(31),n=i(36);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}var r={name:"TagModal",components:{},props:{visible:{type:Boolean,default:!1},needModule:{type:Boolean,default:!1},tagLimit:{type:Number,default:-1},hasChooseList:{type:Array,default:function(){return[]}}},data:function(){return{activeTabName:"0",tagList:[],chooseList:[],moduleId:""}},fetch:function(){this.$store.dispatch("tag/setModuleList")},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(n.d)("tag",["moduleList"])),watch:{},created:function(){},mounted:function(){this.getList(),this.chooseList=Object(s.a)(this.hasChooseList)},methods:{getList:function(){var t=this;this.$apiRepository.post.getTagsList().then((function(e){t.tagList=e.clazz_tags}))},chooseTag:function(t){return-1!==this.tagLimit&&this.chooseList.length>=this.tagLimit?(this.$message.warning("至多选择5个标签"),!1):!(this.chooseList.filter((function(e){return e.id===t.tag.id})).length>0)&&void this.chooseList.push({id:t.tag.id,tag:t.tag.title})},remove:function(t){this.chooseList.splice(t,1)},confirm:function(){return this.needModule&&""===this.moduleId?(this.$message.warning("请选择发布版块"),!1):0===this.chooseList.length?(this.$message.warning("请选择标签"),!1):(this.$emit("back",{module_id:""!==this.moduleId?this.moduleId:0,tagList:Object(s.a)(this.chooseList)}),void this.close())},close:function(){this.$emit("update:visible",!1)}}},c=i(20),l=Object(c.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{visible:t.visible,title:"选择标签",width:"630px","close-on-click-modal":!1,"before-close":t.close,"lock-scroll":!1,"append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[i("div",[t.needModule?i("div",{staticClass:"mb-30"},[i("el-select",{attrs:{placeholder:"请选择投放版块"},model:{value:t.moduleId,callback:function(e){t.moduleId=e},expression:"moduleId"}},t._l(t.moduleList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.title,value:t.module_id}})})),1)],1):t._e(),t._v(" "),i("el-tabs",{staticClass:"relative -top-20",model:{value:t.activeTabName,callback:function(e){t.activeTabName=e},expression:"activeTabName"}},t._l(t.tagList,(function(e,s){return i("el-tab-pane",{key:s,attrs:{label:e.clazz,name:""+s}},t._l(e.tags,(function(e,s){return i("el-tag",{key:s,staticClass:"mr-10 mb-10 cursor-pointer",attrs:{effect:"plain"},on:{click:function(i){return t.chooseTag(e)}}},[t._v("\n          "+t._s(e.tag.title)+"\n        ")])})),1)})),1),t._v(" "),t.chooseList.length>0?i("div",[i("div",{staticClass:"text-base text-gray-800 mb-15"},[t._v("已选标签")]),t._v(" "),i("div",{staticClass:"flex flex-row flex-wrap items-center"},t._l(t.chooseList,(function(e,s){return i("el-tag",{key:s,staticClass:"mr-10 mb-10",attrs:{closable:"","disable-transitions":!1},on:{close:function(e){return t.remove(s)}}},[t._v("\n          "+t._s(e.tag)+"\n        ")])})),1)]):t._e()],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirm}},[t._v("确认")])],1)])}),[],!1,null,"1af64b92",null);e.default=l.exports},721:function(t,e,i){},722:function(t,e,i){},728:function(t,e,i){"use strict";i.r(e);i(49),i(43);var s={name:"",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},watch:{},created:function(){},methods:{postItemClick:function(t){var e=this.list[t],i="",s="";"index"===this.$route.name?i="99":this.$route.name==="".concat(this.$settings.routePre,"/community")?i="100":this.$route.name==="".concat(this.$settings.routePre.substr(1),"-tag-id")&&(i="".concat(this.$route.params.id),s="post"===this.$route.query.page?"社区":"推荐");var o=JSON.parse(e.post.tag_json)||[],n=t+1;window.AnalysysAgent.track("feed_post_click",{type:"".concat(e.post.type),tag_id:i,tab_name:s,post_id:"".concat(e.post.id),tag_ids:o.map((function(t){return String(t.id)})),author_id:"".concat(e.author.id),feed_place:"".concat(n)})}}},o=i(20),n=Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"post-list-component space-y-20"},t._l(t.list,(function(e,s){return i("div",{key:s,staticClass:"block",on:{click:function(e){return t.postItemClick(s)}}},[e.post&&[13,12,21].includes(e.post.type)?i("FeedListRich",{attrs:{"feed-info":e}}):e.post?i("FeedListCommon",{attrs:{"feed-info":e}}):t._e()],1)})),0)}),[],!1,null,"f9875b24",null);e.default=n.exports;installComponents(n,{FeedListRich:i(711).default,FeedListCommon:i(712).default})},729:function(t,e,i){"use strict";i.r(e);i(71),i(157),i(49),i(391),i(93),i(39),i(72),i(57);var s={name:"PostModal",components:{},props:{visible:{type:Boolean,default:!1},ifUpdate:{type:Boolean,default:!1},postId:{type:[String,Number],default:0}},data:function(){return{limitImgNumber:9,emojiModalVisible:!1,tagModalVisible:!1,ifDisabled:!1,postData:{type:11,title:"",content:""},imgsList:[],tagList:[]}},computed:{},watch:{},created:function(){},mounted:function(){this.getPostData()},methods:{getPostData:function(){var t=this;this.ifUpdate&&this.$apiRepository.post.getPostInfo({post_id:this.postId}).then((function(e){t.postData.type=e.post.type,t.postData.title=e.post.title,t.postData.content=e.post.content.replace(/<br>/g,"\n"),t.tagList=JSON.parse(e.post.tag_json),e.post.imgs&&""!==e.post.imgs&&(t.imgsList=e.post.imgs.split(/[;`]/))}))},addSuccess:function(t){this.imgsList.push(t)},removeImg:function(t){this.imgsList.splice(t,1)},addEmoji:function(){this.imgsList.length<this.limitImgNumber?this.emojiModalVisible=!this.emojiModalVisible:this.$message({type:"warning",message:"图片最多添加".concat(this.limitImgNumber,"张"),offset:300})},addTags:function(){this.tagModalVisible=!0},renderTags:function(t){this.tagList=t.tagList},checkData:function(){return""===this.postData.title?(this.$message.warning("请填写标题"),!1):""===this.postData.content.replace(/[\s\n\r]/g,"")?(this.$message.warning("文本内容不能为空"),!1):0===this.tagList.length?(this.$message.warning("请选择标签"),!1):!(this.tagList.length>5)||(this.$message.warning("至多5个标签"),!1)},confirm:function(){var t=this;if(!this.checkData())return!1;var e=this.$utils.filterHtmlTag(this.postData.title),i=this.$utils.filterHtmlTag(this.postData.content),s={post_id:this.postId,type:this.postData.type,title:e,content:i.replace(/[\n\r]/g,"<br>"),tag_ids:this.tagList.map((function(t){return t.id})).join("`")};this.imgsList.length>0&&(s.imgs=this.imgsList.join("`")),this.ifUpdate?this.$apiRepository.limit.postUpdate(s).then((function(e){t.$message.success("修改成功"),window.AnalysysAgent.track("post_send",{post_id:"".concat(e.post_id),post_type:"".concat(s.type),post_title:s.title,post_tag_ids:t.tagList.map((function(t){return String(t.id)})),if_post_have_picture:!!s.imgs||!1}),window.location.href="".concat(t.$settings.routePre,"/post/").concat(e.post_id),t.close()})).catch((function(e){var i=e.response.data.retMsg&&void 0!==e.response.data.retMsg?e.response.data.retMsg:null;t.$message.error(i||"修改失败")})):this.$apiRepository.post.postCreate(s).then((function(e){t.$message.success("发布成功"),window.AnalysysAgent.track("post_send",{post_id:"".concat(e.post_id),post_type:"".concat(s.type),post_title:s.title,post_tag_ids:t.tagList.map((function(t){return String(t.id)})),if_post_have_picture:!!s.imgs||!1}),window.location.href="".concat(t.$settings.routePre,"/post/").concat(e.post_id),t.close()})).catch((function(e){var i=e.response.data.retMsg&&void 0!==e.response.data.retMsg?e.response.data.retMsg:null;t.$message.error(i||"创建失败")}))},close:function(){this.postData={type:11,title:"",content:""},this.imgsList=[],this.$emit("update:visible",!1)}}},o=i(20),n=Object(o.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{width:"600px",visible:t.visible,title:t.ifUpdate?"修改帖子":"发帖","lock-scroll":!1,"close-on-click-modal":!1,"before-close":t.close,"append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[i("div",[i("el-select",{attrs:{placeholder:"请选择帖子类型",disabled:t.ifDisabled},model:{value:t.postData.type,callback:function(e){t.$set(t.postData,"type",e)},expression:"postData.type"}},[i("el-option",{attrs:{label:"普通帖子",value:11}}),t._v(" "),i("el-option",{attrs:{label:"问答帖子",value:16}})],1)],1),t._v(" "),i("div",{staticClass:"mt-20"},[i("el-input",{attrs:{placeholder:"标题不超过30个字符"},model:{value:t.postData.title,callback:function(e){t.$set(t.postData,"title",e)},expression:"postData.title"}})],1),t._v(" "),i("div",{staticClass:"mt-10"},[i("el-input",{attrs:{type:"textarea",rows:"4",placeholder:"点击输入文本内容，图片最多添加"+t.limitImgNumber+"张"},model:{value:t.postData.content,callback:function(e){t.$set(t.postData,"content",e)},expression:"postData.content"}})],1),t._v(" "),t.imgsList.length>0?i("div",{staticClass:"mt-10 flex flex-row flex-wrap items-center"},t._l(t.imgsList,(function(e,s){return i("div",{key:s,staticClass:"relative mr-10 mb-10 bg-cover bg-center bg-no-repeat",staticStyle:{width:"80px",height:"80px"},style:{backgroundImage:"url("+e+")"}},[i("el-button",{staticClass:"absolute top-0 right-0",attrs:{type:"danger",size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeImg(s)}}})],1)})),0):t._e(),t._v(" "),t.tagList.length>0?i("div",{staticClass:"mt-10 flex flex-row flex-wrap items-center"},t._l(t.tagList,(function(t,e){return i("TagView",{key:e,staticClass:"mr-10 mb-10",attrs:{"tag-name":t.tag}})})),1):t._e(),t._v(" "),i("div",{staticClass:"mt-10"},[i("FileUploadBtn",{attrs:{"btn-size":"mini",msg:"添加图片","if-disabled":t.imgsList.length>=t.limitImgNumber},on:{uploadSuccess:t.addSuccess}}),t._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-picture-outline",disabled:t.imgsList.length>=t.limitImgNumber},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addEmoji(e)}}},[t._v("添加表情")]),t._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-collection-tag"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addTags(e)}}},[t._v("选择标签")]),t._v(" "),t.emojiModalVisible?i("EmojiModal",{attrs:{visible:t.emojiModalVisible},on:{"update:visible":function(e){t.emojiModalVisible=e},add:t.addSuccess}}):t._e(),t._v(" "),t.tagModalVisible?i("TagModal",{attrs:{visible:t.tagModalVisible,"has-choose-list":t.tagList,"tag-limit":5},on:{"update:visible":function(e){t.tagModalVisible=e},back:t.renderTags}}):t._e()],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.confirm}},[t._v(t._s(t.ifUpdate?"确认修改":"发布"))])],1)])}),[],!1,null,"30551bc6",null);e.default=n.exports;installComponents(n,{TagView:i(713).default,FileUploadBtn:i(716).default,EmojiModal:i(717).default,TagModal:i(718).default})},737:function(t,e,i){"use strict";i(721)},738:function(t,e,i){"use strict";i(722)},744:function(t,e,i){"use strict";i.r(e);var s={name:"",components:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{weiboClick:function(){window.AnalysysAgent.track("weibo_link_click")},taobaoClick:function(){window.AnalysysAgent.track("taobao_link_click")}}},o=(i(737),i(20)),n=Object(o.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"side-bar-item-component"},[e("div",{staticClass:"bar-item-title space-x-10"},[e("a",{staticClass:"cursor-pointer hover:text-blue-500",attrs:{href:"https://weibo.com/iplaymtg",target:"_blank"},on:{click:this.weiboClick}},[this._v("微博")]),this._v(" "),e("a",{staticClass:"cursor-pointer hover:text-blue-500",attrs:{href:"https://shop125745126.taobao.com/",target:"_blank"},on:{click:this.taobaoClick}},[this._v("淘宝")])]),this._v(" "),this._m(0)])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"website-info mt-15 text-gray-250 space-y-10 text-sm"},[i("div",[t._v("2014-2021 © 旅法师营地")]),t._v(" "),i("div",[t._v("京ICP备14048772号-4")]),t._v(" "),i("div",[i("a",[t._v("京网文[2018]9988-902号")])]),t._v(" "),i("div",[i("a",[t._v("京公网安备11010502034722号")])]),t._v(" "),i("div",[t._v("视听节目制作许可证：")]),t._v(" "),i("div",[i("a",[t._v("(京)字第12766号")])]),t._v(" "),i("div",[t._v("违法和不良信息举报电话：")]),t._v(" "),i("div",[t._v("13903742716")]),t._v(" "),i("div",[t._v("公司名称：北京丸秀科技有限公司")])])}],!1,null,"bc5c84ac",null);e.default=n.exports},745:function(t,e,i){"use strict";i.r(e);var s={name:"FriendLink",components:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},o=(i(738),i(20)),n=Object(o.a)(s,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-bar-item-component"},[i("div",{staticClass:"bar-item-title"},[t._v("友情链接")]),t._v(" "),i("div",{staticClass:"friend-link"},[i("a",{attrs:{target:"_blank",href:"http://www.gstonegames.com"}},[t._v("集石桌游")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"http://www.titanar.com"}},[t._v("神之梯炉石线上赛")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"http://www.77acg.com/"}},[t._v("77动漫")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"https://www.xxadc.com/"}},[t._v("小獾电竞")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"https://indienova.com/"}},[t._v("INDIENOVA")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"http://www.yuanqijjc.com"}},[t._v("元气竞技场")])])])}],!1,null,"3f3e0390",null);e.default=n.exports},778:function(t,e,i){},866:function(t,e,i){"use strict";i(778)},950:function(t,e,i){"use strict";i.r(e);var s=i(710),o={name:"Community",layout:"default",asyncData:function(t){var e=t.app;t.params,t.query,t.error;return e.$apiRepository.feed.getCommunityRecommendList({page:1,size:30,last_post_created:parseInt((new Date).getTime()/1e3)}).then((function(t){return{last_post_created:t.last_post_created,postsList:t.posts||[]}})).catch((function(t){}))},data:function(){return{tagIdCommunity:100,topLogo:"https://pic.iyingdi.com/yingdi_pc/top.png",last_post_created:0,page:1,size:30,postsList:[],postModalVisible:!1,ad_msg:[],ifStickyTop:!1}},head:function(){return{title:"社区首页-"}},mounted:function(){if("web"!==this.$utils.judgeSystem())return window.open("".concat("https://mob.iyingdi.com","/community"),"_self"),!1;this.getSideTagInfo(),this._scrollListener=this.$utils.throttle(this.handleScroll,500,1e3),window.addEventListener("scroll",this._scrollListener),window.AnalysysAgent.pageView("社区",{page_type:"社区"})},beforeDestroy:function(){window.removeEventListener("scroll",this._scrollListener)},methods:{getSideTagInfo:function(){var t=this;this.$apiRepository.feed.getTagSideModule({tag_id:this.tagIdCommunity}).then((function(e){t.ad_msg=e.ad_msg||[]})).catch((function(t){}))},handleScroll:function(){this.sideBarSticky(),this.scrollFunc()},scrollFunc:function(){(document.documentElement.scrollTop||document.body.scrollTop)+(document.documentElement.clientHeight||document.body.clientHeight)===(document.documentElement.scrollHeight||document.body.scrollHeight)&&this.getMoreRecommendList()},sideBarSticky:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.getElementById("sticky_area").offsetTop;this.ifStickyTop=t>=e},getMoreRecommendList:function(){var t=this;this.$apiRepository.feed.getCommunityRecommendList({page:this.page+1,size:this.size,last_post_created:this.last_post_created}).then((function(e){var i,o=e.posts||[];(i=t.postsList).push.apply(i,Object(s.a)(o)),t.last_post_created=e.last_post_created,t.page+=1})).catch((function(t){}))},postSendClick:function(){this.postModalVisible=!0,window.AnalysysAgent.track("post_send_click")}}},n=(i(866),i(20)),a=Object(n.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"community-page"},[i("div",{staticClass:"community-container"},[i("div",{staticClass:"community-main-area"},[i("div",{staticClass:"feed-list-area"},[i("PostList",{attrs:{list:t.postsList}})],1)]),t._v(" "),i("div",{staticClass:"side-bar-area space-y-20"},[t.ad_msg.length?i("div",t._l(t.ad_msg,(function(t,e){return i("div",{key:e},[t.href?i("a",{attrs:{href:t.href,target:"_blank"}},[i("img",{staticClass:"mb-20",attrs:{src:t.image_resource.size[0]}})]):i("img",{staticClass:"mb-20",attrs:{src:t.image_resource.size[0]}})])})),0):t._e(),t._v(" "),i("RecordInfo"),t._v(" "),i("FriendLink"),t._v(" "),i("GoogleAd"),t._v(" "),i("div",{attrs:{id:"sticky_area"}},[t.ifStickyTop?i("div",{staticClass:"sticky-top-area"},[i("RecordInfo"),t._v(" "),i("FriendLink")],1):t._e()])],1)]),t._v(" "),t.$store.getters.token?i("a",{staticClass:"send-post-btn",on:{click:t.postSendClick}},[i("i",{staticClass:"el-icon-edit"}),i("span",[t._v("聊点什么")])]):t._e(),t._v(" "),t.postModalVisible?i("PostModal",{attrs:{visible:t.postModalVisible,"if-update":!1},on:{"update:visible":function(e){t.postModalVisible=e}}}):t._e()],1)}),[],!1,null,"0e2129c6",null);e.default=a.exports;installComponents(a,{PostList:i(728).default,RecordInfo:i(744).default,FriendLink:i(745).default,GoogleAd:i(715).default,PostModal:i(729).default})}}]);