(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{710:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i(159);var a=i(247);function s(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},715:function(t,e,i){"use strict";i.r(e);var n={name:"GoogleAd",components:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},a=i(20),s=Object(a.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"googleAd",staticStyle:{height:"500px",margin:"20px 0"}},[e("adsbygoogle",{attrs:{"ad-slot":"2967039306","ad-format":"auto"}})],1)}),[],!1,null,"2d8f9117",null);e.default=s.exports},721:function(t,e,i){},722:function(t,e,i){},728:function(t,e,i){"use strict";i.r(e);i(49),i(43);var n={name:"",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},watch:{},created:function(){},methods:{postItemClick:function(t){var e=this.list[t],i="",n="";"index"===this.$route.name?i="99":this.$route.name==="".concat(this.$settings.routePre,"/community")?i="100":this.$route.name==="".concat(this.$settings.routePre.substr(1),"-tag-id")&&(i="".concat(this.$route.params.id),n="post"===this.$route.query.page?"社区":"推荐");var a=JSON.parse(e.post.tag_json)||[],s=t+1;window.AnalysysAgent.track("feed_post_click",{type:"".concat(e.post.type),tag_id:i,tab_name:n,post_id:"".concat(e.post.id),tag_ids:a.map((function(t){return String(t.id)})),author_id:"".concat(e.author.id),feed_place:"".concat(s)})}}},a=i(20),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"post-list-component space-y-20"},t._l(t.list,(function(e,n){return i("div",{key:n,staticClass:"block",on:{click:function(e){return t.postItemClick(n)}}},[e.post&&[13,12,21].includes(e.post.type)?i("FeedListRich",{attrs:{"feed-info":e}}):e.post?i("FeedListCommon",{attrs:{"feed-info":e}}):t._e()],1)})),0)}),[],!1,null,"f9875b24",null);e.default=s.exports;installComponents(s,{FeedListRich:i(711).default,FeedListCommon:i(712).default})},737:function(t,e,i){"use strict";i(721)},738:function(t,e,i){"use strict";i(722)},744:function(t,e,i){"use strict";i.r(e);var n={name:"",components:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{weiboClick:function(){window.AnalysysAgent.track("weibo_link_click")},taobaoClick:function(){window.AnalysysAgent.track("taobao_link_click")}}},a=(i(737),i(20)),s=Object(a.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"side-bar-item-component"},[e("div",{staticClass:"bar-item-title space-x-10"},[e("a",{staticClass:"cursor-pointer hover:text-blue-500",attrs:{href:"https://weibo.com/iplaymtg",target:"_blank"},on:{click:this.weiboClick}},[this._v("微博")]),this._v(" "),e("a",{staticClass:"cursor-pointer hover:text-blue-500",attrs:{href:"https://shop125745126.taobao.com/",target:"_blank"},on:{click:this.taobaoClick}},[this._v("淘宝")])]),this._v(" "),this._m(0)])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"website-info mt-15 text-gray-250 space-y-10 text-sm"},[i("div",[t._v("2014-2021 © 旅法师营地")]),t._v(" "),i("div",[t._v("京ICP备14048772号-4")]),t._v(" "),i("div",[i("a",[t._v("京网文[2018]9988-902号")])]),t._v(" "),i("div",[i("a",[t._v("京公网安备11010502034722号")])]),t._v(" "),i("div",[t._v("视听节目制作许可证：")]),t._v(" "),i("div",[i("a",[t._v("(京)字第12766号")])]),t._v(" "),i("div",[t._v("违法和不良信息举报电话：")]),t._v(" "),i("div",[t._v("13903742716")]),t._v(" "),i("div",[t._v("公司名称：北京丸秀科技有限公司")])])}],!1,null,"bc5c84ac",null);e.default=s.exports},745:function(t,e,i){"use strict";i.r(e);var n={name:"FriendLink",components:{},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},a=(i(738),i(20)),s=Object(a.a)(n,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-bar-item-component"},[i("div",{staticClass:"bar-item-title"},[t._v("友情链接")]),t._v(" "),i("div",{staticClass:"friend-link"},[i("a",{attrs:{target:"_blank",href:"http://www.gstonegames.com"}},[t._v("集石桌游")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"http://www.titanar.com"}},[t._v("神之梯炉石线上赛")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"http://www.77acg.com/"}},[t._v("77动漫")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"https://www.xxadc.com/"}},[t._v("小獾电竞")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"https://indienova.com/"}},[t._v("INDIENOVA")]),t._v(" "),i("a",{attrs:{target:"_blank",href:"http://www.yuanqijjc.com"}},[t._v("元气竞技场")])])])}],!1,null,"3f3e0390",null);e.default=s.exports},747:function(t,e,i){"use strict";i.r(e);var n={name:"LinkJump",components:{},props:{to:{type:String,default:function(){return"/"}},replace:{type:Boolean,default:function(){return!1}},tag:{type:String,default:function(){return"a"}},target:{type:String,default:"_blank"}},data:function(){return{}},computed:{linkType:function(){return/^http/.test(this.to)?0:1}},created:function(){},mounted:function(){},methods:{}},a=i(20),s=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.linkType?i("nuxt-link",{attrs:{to:t.to,target:t.target,tag:t.tag}},[t._t("default")],2):i("a",{attrs:{href:t.to,target:t.target}},[t._t("default")],2)}),[],!1,null,"d0114186",null);e.default=s.exports},823:function(t,e,i){},911:function(t,e,i){"use strict";i(823)},964:function(t,e,i){"use strict";i.r(e);i(71),i(95),i(94),i(49),i(73),i(93),i(14),i(123);var n=i(710),a={name:"Index",layout:"default",asyncData:function(t){var e=t.app,i=(t.params,t.query,t.store);t.error;return new Promise((function(t,i){e.$apiRepository.feed.getTopInTag({tag_id:99}).then((function(e){t(e)})).catch((function(){t({top_content:[],supplement:[]})}))})).then((function(t){var n=t.top_content.length>=3?1:4-t.top_content.length,a=t.supplement.slice(0,n).map((function(t){return Number(t.feed.source_id)})),s={size:30,refresh_action:2};return i.getters.token?s.client_guest_id=parseInt(i.getters.userInfo.id):s.client_guest_id=1e8+parseInt(3e6*Math.random()+1),e.$apiRepository.feed.getIndexRecommendList(s).then((function(e){var i=e.posts||[];return{tagTopRes:t,filledIdList:a,postsList:i.filter((function(t){return!a.includes(Number(t.post.id))})),client_guest_id:s.client_guest_id}})).catch((function(t){}))}))},data:function(){return{tagIdIndex:99,tagTopRes:{},filledIdList:[],tagTopList:[],postsList:[],ad_msg:[],ifStickyTop:!1,client_guest_id:(new Date).getTime()}},head:function(){return{title:"旅法师营地-有温度的玩家社区-"}},computed:{},mounted:function(){if("web"!==this.$utils.judgeSystem())return window.open("https://mob.iyingdi.com","_self"),!1;this.getTagTopList(),this.getSideTagInfo(),this._scrollListener=this.$utils.throttle(this.handleScroll,500,1e3),window.addEventListener("scroll",this._scrollListener),window.AnalysysAgent.pageView("首页",{page_type:"首页"})},beforeDestroy:function(){window.removeEventListener("scroll",this._scrollListener)},methods:{getTagTopList:function(){var t=this,e=[],i=this.tagTopRes,a=i.top_content||[],s=i.supplement||[];if(a&&a.length>0){var o=[];if(a.length>=3)o=s&&s.length?s.slice(0,1):[],e=[].concat(Object(n.a)(a.slice(0,3)),Object(n.a)(o));else{var c=3-a.length;o=s.slice(0,c).map((function(e){return{title:e.feed.title,img:e.feed.cover,url:"".concat(t.$settings.routePre,"/post/").concat(e.feed.source_id)}})),e=[].concat(Object(n.a)(a),Object(n.a)(o),[s[c]])}}else e=s.map((function(e,i){return i<3?{title:e.feed.title,img:e.feed.cover,url:"".concat(t.$settings.routePre,"/post/").concat(e.feed.source_id)}:e}));this.tagTopList=e,a.map((function(e,i){window.AnalysysAgent.track("native_ads_show",{ad_type:"carousel_ad",ad_id:"".concat(e.ad_id),tag_id:"".concat(t.tagIdIndex),ad_carousel_order:"".concat(i+1)})}))},getSideTagInfo:function(){var t=this;this.$apiRepository.feed.getTagSideModule({tag_id:this.tagIdIndex}).then((function(e){t.ad_msg=e.ad_msg||[]})).catch((function(t){}))},handleScroll:function(){this.sideBarSticky(),this.scrollFunc()},scrollFunc:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.documentElement.clientHeight||document.body.clientHeight;(document.documentElement.scrollHeight||document.body.scrollHeight)-(t+e)<=400&&this.getMoreRecommendList()},sideBarSticky:function(){var t=document.documentElement.scrollTop||document.body.scrollTop,e=document.getElementById("sticky_area").offsetTop;this.ifStickyTop=t>=e},getMoreRecommendList:function(){var t=this;this.$apiRepository.feed.getIndexRecommendList({size:30,refresh_action:1,client_guest_id:this.client_guest_id}).then((function(e){var i,a=e.posts||[];(i=t.postsList).push.apply(i,Object(n.a)(a))})).catch((function(t){}))},carouselClick:function(t){window.AnalysysAgent.track("carousel_click",{carousel_place:t,tag_id:"".concat(this.tagIdIndex)}),this.tagTopList[t-1].ad_id&&window.AnalysysAgent.track("native_ads_click",{ad_type:"carousel_ad",ad_id:"".concat(this.tagTopList[t-1].ad_id),tag_id:"".concat(this.tagIdIndex),ad_carousel_order:"".concat(t)})},sideAdClick:function(t){window.AnalysysAgent.track("native_ads_click",{ad_type:"pc_side_ad",ad_id:"".concat(t),tag_id:"".concat(this.tagIdIndex)})}}},s=(i(911),i(20)),o=Object(s.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"home-page-container"},[t.tagTopList.length?i("div",{staticClass:"top-area"},[t.tagTopList[0]?i("LinkJump",{staticClass:"left-div",attrs:{tag:"a",to:t.tagTopList[0].url},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"img-detail",style:{backgroundImage:"url("+t.tagTopList[0].img+")"},on:{click:function(e){return t.carouselClick(1)}}}),t._v(" "),i("div",{staticClass:"title",on:{click:function(e){return t.carouselClick(1)}}},[i("div",[t._v(t._s(t.tagTopList[0].title))])])]},proxy:!0}],null,!1,964571444)}):t._e(),t._v(" "),i("div",{staticClass:"right-div"},[i("div",{staticClass:"right-top-div"},[t.tagTopList[1]?i("LinkJump",{staticClass:"left right-top-item",attrs:{tag:"a",to:t.tagTopList[1].url},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"img-detail",style:{backgroundImage:"url("+t.tagTopList[1].img+")"},on:{click:function(e){return t.carouselClick(2)}}}),t._v(" "),i("div",{staticClass:"title",on:{click:function(e){return t.carouselClick(2)}}},[i("div",[t._v(t._s(t.tagTopList[1].title))])])]},proxy:!0}],null,!1,265365268)}):t._e(),t._v(" "),t.tagTopList[2]?i("LinkJump",{staticClass:"right right-top-item",attrs:{tag:"a",to:t.tagTopList[2].url},scopedSlots:t._u([{key:"default",fn:function(){return[i("div",{staticClass:"img-detail",style:{backgroundImage:"url("+t.tagTopList[2].img+")"},on:{click:function(e){return t.carouselClick(3)}}}),t._v(" "),i("div",{staticClass:"title",on:{click:function(e){return t.carouselClick(3)}}},[i("div",[t._v(t._s(t.tagTopList[2].title))])])]},proxy:!0}],null,!1,735121908)}):t._e()],1),t._v(" "),t.tagTopList[3]?i("nuxt-link",{staticClass:"right-bottom-div",attrs:{target:"_blank",to:t.$settings.routePre+"/post/"+t.tagTopList[3].feed.source_id}},[i("div",{on:{click:function(e){return t.carouselClick(4)}}},[i("div",{staticClass:"user-info"},[i("img",{attrs:{src:t.tagTopList[3].author.head,alt:"用户头像"}}),t._v(" "),i("span",[t._v(t._s(t.tagTopList[3].author.username))])]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(t.tagTopList[3].feed.title))]),t._v(" "),i("div",{staticClass:"desc"},[t._v(t._s(t.tagTopList[3].feed.content))])])]):t._e()],1)],1):t._e(),t._v(" "),i("div",{staticClass:"home-main-area"},[i("div",{staticClass:"feed-list-area"},[i("PostList",{attrs:{list:t.postsList}})],1),t._v(" "),i("div",{staticClass:"side-bar-area space-y-20"},[t.ad_msg.length?i("div",t._l(t.ad_msg,(function(e,n){return i("div",{key:n},[e.href?i("a",{attrs:{href:e.href,target:"_blank"},on:{click:function(i){return t.sideAdClick(e.ad_id)}}},[i("img",{staticClass:"mb-20",attrs:{src:e.image_resource.size[0]}})]):i("img",{staticClass:"mb-20",attrs:{src:e.image_resource.size[0]}})])})),0):t._e(),t._v(" "),i("RecordInfo"),t._v(" "),i("FriendLink"),t._v(" "),i("GoogleAd"),t._v(" "),i("div",{attrs:{id:"sticky_area"}},[t.ifStickyTop?i("div",{staticClass:"sticky-top-area"},[i("RecordInfo"),t._v(" "),i("FriendLink")],1):t._e()])],1)])])}),[],!1,null,null,null);e.default=o.exports;installComponents(o,{LinkJump:i(747).default,PostList:i(728).default,RecordInfo:i(744).default,FriendLink:i(745).default,GoogleAd:i(715).default})}}]);