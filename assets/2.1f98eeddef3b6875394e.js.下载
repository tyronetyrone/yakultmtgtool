(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{710:function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var i=s(159);var n=s(247);function a(t){return function(t){if(Array.isArray(t))return Object(i.a)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(n.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},720:function(t,e,s){},734:function(t,e,s){"use strict";s.r(e);s(94),s(93);var i=s(31),n=s(36);function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var r={name:"EventTitle",props:{isCollected:{type:Boolean,default:!1},isFire:{type:Boolean,default:!1},yingdiItem:{type:Object,default:function(){return{}}},personData:{type:Object,default:function(){return{}}},event:{type:Boolean,default:!1},eventNew:{type:Number,default:100}},data:function(){return{isLike:0,defaultAvatar:"".concat("https://pic.iyingdi.com","/cgos_backend/20210304/170820/head_img.jpg")}},computed:o(o({cateType:function(){var t={};return 0===this.eventNew||1===this.eventNew?t={text:"评论了你",cate:"eventNew",cateText:"N"}:this.isCollected?t=[13,12,21].includes(this.yingdiItem.type)?{text:"收藏了帖子",cate:"collected",cateText:"收藏"}:{text:"收藏了文章",cate:"collected",cateText:"收藏"}:this.isFire&&(t=[13,12,21].includes(this.yingdiItem.post.post_type)?{text:"给帖子点了火",cate:"fire",cateText:"点火"}:{text:"给文章点了火",cate:"fire",cateText:"点火"}),1===this.yingdiItem.event_type?{text:"发表了帖子",cate:"post",cateText:"帖子"}:5===this.yingdiItem.event_type?{text:"给帖子点了火",cate:"fire",cateText:"点火"}:2===this.yingdiItem.event_type?{text:"发表了评论",cate:"comment",cateText:"评论"}:t}},Object(n.d)(["userInfo"])),{},{formatUser:function(){var t,e;return this.$route.params.id||this.event?(t=this.personData.avatar||this.defaultAvatar,e=this.personData.nickname):(t=this.userInfo.avatar||this.defaultAvatar,e=this.userInfo.nickname),{avatar:t,nickname:e}}}),methods:{}},c=(s(736),s(20)),p=Object(c.a)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"event-title"},[s("div",{staticClass:"top"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.formatUser.avatar,alt:"旅法师营地"}})]),t._v(" "),s("div",{staticClass:"text"},[s("span",{staticClass:"userName"},[t._v(t._s(t.formatUser.nickname))]),t._v(" "),s("span",[t._v(t._s(t.cateType.text))]),t._v(" "),s("span",{staticClass:"time"},[t._v(t._s(t._f("formatTime")(t.yingdiItem.created_at)))])]),t._v(" "),s("div",{class:{hidden:1===t.eventNew,"inline-block":!0},attrs:{name:"cate"}},[s("div",{staticClass:"cate",class:t.cateType.cate},[t._v(t._s(t.cateType.cateText))])])])])}),[],!1,null,"12b1954d",null);e.default=p.exports},736:function(t,e,s){"use strict";s(720)},763:function(t,e,s){},835:function(t,e,s){"use strict";s.r(e);s(93);var i={name:"FireBtn",props:{isLike:{type:Boolean,default:!1},likeNum:{type:Number,default:0},id:{type:Number,default:86379},postId:{type:Number,default:86379},type:{type:String,default:""}},data:function(){return{postIsLike:"",postLikeNum:0,targetPostId:0}},created:function(){this.postIsLike=this.isLike,this.postLikeNum=this.likeNum},methods:{handleClickLike:function(){this.$store.getters.token?"post"===this.type?this.postAction({post_id:this.id,action:1}):"comment"===this.type&&(this.postIsLike?this.commentAction({post_id:this.postId,comment_id:this.id,action:-1}):(window.AnalysysAgent.track("user_space_like_trends"),this.commentAction({post_id:this.postId,comment_id:this.id,action:1}))):this.$router.push("".concat(this.$settings.routePre,"/login"))},postAction:function(t){var e=this;this.$apiRepository.post.postLike(t).then((function(t){200===t.status?(e.postIsLike?e.postLikeNum+=-1:e.postLikeNum+=1,e.postIsLike=!e.postIsLike):e.$message({type:"warning",message:t.response.data.retMsg})})).catch((function(t){e.$message({type:"warning",message:t.response.data.retMsg})}))},commentAction:function(t){var e=this;this.$apiRepository.comment.likeComment(t).then((function(t){200===t.status&&(e.postIsLike?e.postLikeNum+=-1:e.postLikeNum=e.postLikeNum+1,e.postIsLike=!e.postIsLike)})).catch((function(t){e.$message({type:"warning",message:t.response.data.retMsg})}))}}},n=(s(851),s(20)),a=Object(n.a)(i,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fire-btn-container"},[e("div",{staticClass:"like",class:this.postIsLike?"active":"",on:{click:this.handleClickLike}},[e("svg-icon",{staticClass:"like-logo",attrs:{"icon-class":"fire"}}),this._v(" "),e("span",[this._v(this._s(this.postIsLike?this.postLikeNum:"点火"))])],1)])}),[],!1,null,"530f24e2",null);e.default=a.exports;installComponents(a,{SvgIcon:s(74).default})},851:function(t,e,s){"use strict";s(763)}}]);