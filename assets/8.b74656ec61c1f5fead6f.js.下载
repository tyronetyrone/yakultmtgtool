(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{719:function(t,e,a){},732:function(t,e,a){"use strict";a.r(e);a(93);var s={name:"Pager",props:{total:{required:!0,type:Number},page:{type:Number,default:0},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!1},position:{type:String,default:"left"}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll&&this.$scroll.scrollTo(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&this.$scroll.scrollTo(0,800)}}},i=(a(735),a(20)),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",style:{textAlign:t.position}},[a("el-pagination",t._b({attrs:{"hide-on-single-page":!0,background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total,"prev-text":"上一页","next-text":"下一页"},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)}),[],!1,null,"22364b1c",null);e.default=o.exports},735:function(t,e,a){"use strict";a(719)},750:function(t,e,a){},751:function(t,e,a){},752:function(t,e,a){},753:function(t,e,a){},831:function(t,e,a){"use strict";a.r(e);a(73),a(96);var s={name:"PersonTitle",props:{personData:{type:Object,default:function(){return{}}}},data:function(){return{defaultBorder:"".concat("https://pic.iyingdi.com","/yingdi_mobile/user/border/normal.png"),defaultAvatar:"".concat("https://pic.iyingdi.com","/cgos_backend/20210304/170820/head_img.jpg"),defaultDesc:""}},computed:{formatUser:function(){var t={};if(Object.keys(this.personData).length<=0)t={};else{var e=this.$utils.getUserLevel(this.personData.credits_score),a=this.personData.in_use_medals.badges||[];t={bg:this.personData.background_image,name:this.personData.nickname,color:this.personData.in_use_medals.name_color,avatar:""===this.personData.avatar?this.defaultAvatar:this.personData.avatar,level:this.$utils.getUserLevel(this.personData.credits_score),border:this.personData.in_use_medals.border||this.defaultBorder,badge:a.slice(0,3)||[],personal_remark:this.personData.personal_remark||this.defaultDesc,levelImg:this.$utils.getLevelImg(e)}}return t}},created:function(){}},i=(a(838),a(20)),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person-title-container",style:"\n    background-image: url('"+t.formatUser.bg+"')"},[a("div",{staticClass:"people-top w-container m-auto"},[a("div",{staticClass:"people-top-content"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-pic float-left"},[t.formatUser.avatar?a("img",{staticClass:"avatar",attrs:{src:t.formatUser.avatar,alt:""}}):t._e(),t._v(" "),t.formatUser.border?a("img",{staticClass:"avatar-border",attrs:{src:t.formatUser.border,alt:""}}):t._e()]),t._v(" "),a("div",{staticClass:"user-detail float-left mt-10"},[a("div",{staticClass:"user-name"},[t._v(t._s(t.formatUser.name))]),t._v(" "),a("div",{staticClass:"user-medal"},[a("div",{staticClass:"level float-left",style:"backgroundImage:url("+t.formatUser.levelImg+")"},[t._v("\n              Lv."+t._s(t.formatUser.level)+"\n            ")]),t._v(" "),a("ul",{staticClass:"badge float-left"},t._l(t.formatUser.badge,(function(t,e){return a("li",{key:e,staticClass:"badge-item"},[a("img",{attrs:{src:t,alt:""}})])})),0)])])]),t._v(" "),a("div",{staticClass:"user-desc text-center"},[t._v("\n        "+t._s(t.formatUser.personal_remark)+"\n      ")])])])])}),[],!1,null,"faa427f4",null);e.default=o.exports},832:function(t,e,a){"use strict";a.r(e);var s={name:"AcountList",props:{acountList:{type:Array,default:function(){return[]}},title:{type:String,default:"我的账号"}},data:function(){return{}},computed:{list:function(){return this.acountList}},created:function(){},methods:{getacountPic:function(t){return this.$settings.social_types[t]?this.$settings.social_types[t].icon:""}}},i=(a(839),a(20)),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"acount-list-container"},[a("div",{staticClass:"acounts"},[a("h5",[t._v(t._s(t.title))]),t._v(" "),a("ul",t._l(t.list,(function(e,s){return a("li",{key:s},[a("img",{attrs:{src:t.getacountPic(e.type),alt:""}}),t._v(" "),a("span",[t._v(t._s(e.account))])])})),0)])])}),[],!1,null,"ecb8569a",null);e.default=o.exports},833:function(t,e,a){"use strict";a.r(e);a(93);var s=a(31);function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l={name:"FollowPop",props:{dialogVisible:{type:Boolean,default:!1},followPopTab:{type:Number,default:0},id:{type:Number,default:0},isPeople:{type:Boolean,default:!1}},data:function(){return{flollowParams:{user_id:0,relation_type:"",page:1,size:10},followList:[],pageTotal:0,defaultPage:0}},computed:{activeTab:function(){return this.followPopTab},pageLimit:function(){return 0===this.followPopTab?10:5},relation_type:function(){return 0===this.activeTab?"following":"follower"}},created:function(){this.changeTab(this.activeTab)},mounted:function(){},methods:{changeTab:function(t){this.defaultPage=1,this.followList=[],0===t?this.getFollowList({page:0,size:10,relation_type:"following"}):this.getFollowList({page:0,size:5,relation_type:"follower"}),this.$emit("update:followPopTab",t)},getFollowList:function(t){var e=this;this.flollowParams=Object.assign({user_id:this.id},o({},t)),this.$apiRepository.personal.getFollowList(this.flollowParams).then((function(t){e.followList=Object.assign({},o({},t.list)),e.pageTotal=t.total}))},handleFollow:function(t,e,a){var s=this;if(!this.isPeople){var i=a?"取关成功":"关注成功",o={action:a?"unfollow":"follow",target_user_id:t};this.$apiRepository.personal.operateRelationship(o).then((function(t){200===t.status&&(s.followList[e].mutual_follow=!s.followList[e].mutual_follow,s.$message({message:i,type:"success"}))})).catch((function(){s.$message({message:"操作失败,请先去登录",type:"warning"})}))}},close:function(){this.$emit("update:dialogVisible",!1)},changePagination:function(t){0===this.followPopTab?this.getFollowList({page:t.page,size:10,relation_type:"following"}):1===this.followPopTab&&this.getFollowList({page:t.page,size:5,relation_type:"follower"})}}},r=(a(840),a(20)),n=Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follow-pop-container"},[a("el-dialog",{staticClass:"follow-popup",attrs:{visible:t.dialogVisible,width:"818px","lock-scroll":!1,"destroy-on-close":"","append-to-body":"","before-close":t.close},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"follow-popup-content"},[a("ul",{staticClass:"popup-tab"},[a("li",{class:0===t.followPopTab?"active":"",on:{click:function(e){return t.changeTab(0)}}},[a("span",[t._v("关注")])]),t._v(" "),a("li",{class:1===t.followPopTab?"active":"",on:{click:function(e){return t.changeTab(1)}}},[a("span",[t._v("粉丝")])])]),t._v(" "),0===t.followPopTab?a("div",{staticClass:"myfan"},[Object.keys(t.followList).length?a("ul",t._l(t.followList,(function(e,s){return a("nuxt-link",{key:s,attrs:{to:t.$settings.routePre+"/people/"+e.user_id,tag:"li"}},[a("follow-title",{attrs:{user:e}})],1)})),1):a("div",{staticClass:"mt-20 text-center text-gray-800"},[a("img",{staticClass:"w-80 h-80 mx-auto",attrs:{src:t.$settings.content_empty_image,alt:""}}),t._v(" "),a("p",{staticClass:"text-gray-500 mt-10"},[t._v("您最近没有关注别人")])])]):t._e(),t._v(" "),1===t.followPopTab?a("div",{staticClass:"fanme"},[Object.keys(t.followList).length?a("ul",t._l(t.followList,(function(e,s){return a("li",{key:s},[a("nuxt-link",{staticClass:"float-left",attrs:{to:t.$settings.routePre+"/people/"+e.user_id,tag:"div"}},[a("follow-title",{attrs:{user:e}})],1),t._v(" "),t.isPeople?a("div",{staticClass:"follow-btn active"},[a("span",[t._v(" "+t._s(e.mutual_follow?"已关注":"未关注"))])]):a("div",{staticClass:"follow-btn",class:e.mutual_follow?"active":"",on:{click:function(a){return t.handleFollow(e.user_id,s,e.mutual_follow)}}},[a("span",[t._v(t._s(e.mutual_follow?"已关注":"关注"))])])],1)})),0):a("div",{staticClass:"mt-20 text-center text-gray-800"},[a("img",{staticClass:"w-80 h-80 mx-auto",attrs:{src:t.$settings.content_empty_image,alt:""}}),t._v(" "),a("p",{staticClass:"text-gray-500 mt-10"},[t._v("您最近没有被人关注")])])]):t._e(),t._v(" "),a("div",{staticClass:"pagination"},[a("Pager",{attrs:{total:t.pageTotal,limit:t.pageLimit,layout:"prev, pager, next",page:t.defaultPage},on:{"update:page":function(e){t.defaultPage=e},pagination:t.changePagination}})],1),t._v(" "),a("div",{staticClass:"close",on:{click:function(e){return t.close()}}},[t._v("×")])])])],1)}),[],!1,null,"1ee695d0",null);e.default=n.exports;installComponents(n,{FollowTitle:a(931).default,Pager:a(732).default})},838:function(t,e,a){"use strict";a(750)},839:function(t,e,a){"use strict";a(751)},840:function(t,e,a){"use strict";a(752)},841:function(t,e,a){"use strict";a(753)},931:function(t,e,a){"use strict";a.r(e);a(391),a(96);var s={name:"FollowTitle",props:{user:{type:Object,default:function(){return{}}}},data:function(){return{defaultBorder:"".concat("https://pic.iyingdi.com","/yingdi_mobile/user/border/normal.png"),defaultAvatar:"".concat("https://pic.iyingdi.com","/cgos_backend/20210304/170820/head_img.jpg")}},computed:{formatUser:function(){var t={};if(Object.keys(this.user).length<=0)t={};else{var e=this.user.in_use_medals.badges,a=this.$utils.getUserLevel(this.user.credits_score);t={name:this.user.nickname,color:this.user.in_use_medals.name_color||"",avatar:this.user.avatar||this.defaultAvatar,level:this.$utils.getUserLevel(this.user.credits_score),border:this.user.in_use_medals.border||this.defaultBorder,badge:e.splice(0,2)||[],levelImg:this.$utils.getLevelImg(a)}}return t}}},i=(a(841),a(20)),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-title-area"},[a("div",{staticClass:"user-head"},[a("img",{staticClass:"avatar",attrs:{src:t.formatUser.avatar,alt:""}}),t._v(" "),a("img",{staticClass:"head-border",attrs:{src:t.formatUser.border,alt:""}})]),t._v(" "),a("div",{staticClass:"user-info"},[a("h4",{staticClass:"name",style:"color: "+t.formatUser.color},[t._v(t._s(t.formatUser.name))]),t._v(" "),a("div",{staticClass:"honor"},[a("div",{staticClass:"level",style:"background: url("+t.formatUser.levelImg+")"},[t._v("Lv."+t._s(t.formatUser.level))]),t._v(" "),a("ul",{staticClass:"badge"},t._l(t.formatUser.badge,(function(t,e){return a("li",{key:e,staticClass:"badge-item"},[a("img",{attrs:{src:t,alt:""}})])})),0)])])])}),[],!1,null,"40aea8c2",null);e.default=o.exports}}]);